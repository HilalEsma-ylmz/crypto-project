<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>WebSocket Wireshark Test</title>
</head>
<body>
    <h1>WebSocket BaÄŸlantÄ± Testi</h1>
    <button onclick="testConnection()">BaÄŸlan ve Test Et</button>
    <div id="results"></div>

    <script>
        function testConnection() {
            const results = document.getElementById('results');
            results.innerHTML = '<p>BaÄŸlanÄ±lÄ±yor...</p>';
            
            // 1. Echo Test
            const ws = new WebSocket('ws://localhost:5000/ws');
            
            ws.onopen = () => {
                results.innerHTML += '<p style="color:green">âœ… WebSocket BaÄŸlantÄ±sÄ± Kuruldu!</p>';
                
                // Test mesajÄ± gÃ¶nder
                const testData = {
                    message: "TEST MESAJI",
                    method: "caesar",
                    key: 3
                };
                
                ws.send(JSON.stringify(testData));
                results.innerHTML += '<p>ğŸ“¤ GÃ¶nderilen: ' + JSON.stringify(testData) + '</p>';
            };
            
            ws.onmessage = (event) => {
                results.innerHTML += '<p>ğŸ“¥ AlÄ±nan: ' + event.data + '</p>';
                ws.close();
            };
            
            ws.onerror = (error) => {
                results.innerHTML += '<p style="color:red">âŒ Hata: ' + error + '</p>';
            };
            
            ws.onclose = () => {
                results.innerHTML += '<p>âš ï¸ BaÄŸlantÄ± KapandÄ±</p>';
            };
        }
    </script>
</body>
</html>




